{
  "component": {
    "name": "ContextMenu",
    "category": "molecules",
    "description": "Provide object-specific actions triggered by right-click or long-press.",
    "type": "interactive"
  },

  "usage": {
    "useCases": [
      "Right-click actions on table rows or list items",
      "Canvas or workspace object manipulation",
      "Power-user shortcuts for frequently used actions",
      "File or asset management actions (rename, delete, duplicate)",
      "Rich text editor context actions"
    ],
    "requiredProps": [],
    "commonPatterns": [
      {
        "name": "basic-context-menu",
        "description": "Simple right-click menu on a target area",
        "composition": "<ContextMenu>\n  <ContextMenuTrigger className=\"border border-dashed p-8\">\n    Right-click here\n  </ContextMenuTrigger>\n  <ContextMenuContent>\n    <ContextMenuItem>Edit</ContextMenuItem>\n    <ContextMenuItem>Duplicate</ContextMenuItem>\n    <ContextMenuSeparator />\n    <ContextMenuItem variant=\"destructive\">Delete</ContextMenuItem>\n  </ContextMenuContent>\n</ContextMenu>"
      },
      {
        "name": "with-submenu",
        "description": "Context menu with a nested submenu for grouped actions",
        "composition": "<ContextMenu>\n  <ContextMenuTrigger>...</ContextMenuTrigger>\n  <ContextMenuContent>\n    <ContextMenuItem>Open</ContextMenuItem>\n    <ContextMenuSub>\n      <ContextMenuSubTrigger>Share</ContextMenuSubTrigger>\n      <ContextMenuSubContent>\n        <ContextMenuItem>Copy Link</ContextMenuItem>\n        <ContextMenuItem>Email</ContextMenuItem>\n      </ContextMenuSubContent>\n    </ContextMenuSub>\n  </ContextMenuContent>\n</ContextMenu>"
      },
      {
        "name": "with-checkboxes",
        "description": "Context menu with toggleable options",
        "composition": "<ContextMenu>\n  <ContextMenuTrigger>...</ContextMenuTrigger>\n  <ContextMenuContent>\n    <ContextMenuCheckboxItem checked={showGrid}>Show Grid</ContextMenuCheckboxItem>\n    <ContextMenuCheckboxItem checked={showRulers}>Show Rulers</ContextMenuCheckboxItem>\n  </ContextMenuContent>\n</ContextMenu>"
      }
    ],
    "antiPatterns": [
      {
        "scenario": "Using ContextMenu for primary or discoverable actions",
        "reason": "Right-click menus are hidden by default — critical actions must be visible in the UI",
        "alternative": "Use visible buttons or DropdownMenu for primary actions"
      },
      {
        "scenario": "Triggered by a button click",
        "reason": "Button-triggered menus should use DropdownMenu which has proper button semantics",
        "alternative": "Use DropdownMenu for button-activated action lists"
      },
      {
        "scenario": "Using ContextMenu for interactive forms or layouts",
        "reason": "Context menus are menu-item based; complex layouts need a different container",
        "alternative": "Use Popover for interactive forms or layouts"
      }
    ]
  },

  "variants": {
    "visual": {
      "allowed": [],
      "forbidden": [],
      "semanticMeaning": {}
    },
    "size": {
      "options": [],
      "default": null
    }
  },

  "composition": {
    "slots": {
      "ContextMenuTrigger": "The area that responds to right-click or long-press to open the menu",
      "ContextMenuContent": "The floating menu panel containing menu items",
      "ContextMenuItem": "A single actionable item in the menu",
      "ContextMenuCheckboxItem": "A toggleable checkbox item",
      "ContextMenuRadioItem": "A radio selection item within a ContextMenuRadioGroup",
      "ContextMenuSub": "Container for a nested submenu",
      "ContextMenuSubTrigger": "Item that opens a submenu on hover",
      "ContextMenuSubContent": "Content panel for the submenu",
      "ContextMenuSeparator": "Visual divider between menu sections",
      "ContextMenuLabel": "Non-interactive label for grouping items"
    },
    "nestedComponents": ["ContextMenuTrigger", "ContextMenuContent", "ContextMenuItem", "ContextMenuCheckboxItem", "ContextMenuRadioGroup", "ContextMenuRadioItem", "ContextMenuSub", "ContextMenuSubTrigger", "ContextMenuSubContent", "ContextMenuSeparator", "ContextMenuLabel"],
    "commonPartners": ["DropdownMenu"],
    "parentConstraints": []
  },

  "behavior": {
    "states": ["open", "closed"],
    "interactions": {
      "open": "Right-click or long-press on the trigger area opens the menu at the pointer position",
      "close": "Click outside, press Escape, or select an item to dismiss",
      "navigation": "Arrow keys navigate items; Enter/Space selects; right arrow opens submenu"
    },
    "responsive": {
      "mobile": "Triggered by long-press; menu appears near the touch point",
      "desktop": "Triggered by right-click; menu appears at cursor position"
    }
  },

  "accessibility": {
    "role": "menu",
    "keyboardSupport": "Arrow keys to navigate; Enter/Space to select; Escape to close; right arrow to open submenu; left arrow to close submenu",
    "screenReader": "Menu items are announced with their labels and states (checked, disabled)",
    "focusManagement": "Focus moves to first item on open; returns to trigger area on close",
    "wcag": "AA"
  },

  "rules": [
    "Triggered by right-click or long-press — never by a button click",
    "Actions are scoped to the target object or region",
    "ContextMenu should supplement visible UI, not replace it",
    "Do not rely on ContextMenu for core workflows — it is a power-user feature",
    "Content is menu-item based — use Popover for interactive layouts"
  ],

  "alternatives": ["DropdownMenu"],

  "aiHints": {
    "priority": "low",
    "keywords": ["context-menu", "right-click", "long-press", "contextual-actions", "power-user"],
    "context": "Use for object-specific secondary actions triggered by right-click. ContextMenu should always supplement visible UI — never serve as the only way to access an action. For button-triggered menus, use DropdownMenu instead."
  }
}
