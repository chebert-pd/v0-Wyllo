@import "tailwindcss";
@import "tw-animate-css";
@import "shadcn/tailwind.css";

@custom-variant dark (&:is(.dark *));

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-sans);
  --font-mono: var(--font-geist-mono);
  --color-sidebar-ring: var(--sidebar-ring);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar: var(--sidebar);
  --color-chart-5: var(--chart-5);
  --color-chart-4: var(--chart-4);
  --color-chart-3: var(--chart-3);
  --color-chart-2: var(--chart-2);
  --color-chart-1: var(--chart-1);
  --color-ring: var(--ring);
  --color-input: var(--input);
  --color-border: var(--border);
  --color-border-subtle: var(--border-subtle);
  --color-border-primary: var(--primary);
  --color-border-primary-subtle: var(--border-primary-subtle);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-destructive-border: var(--destructive-border);
  --color-success: var(--success);
  --color-success-foreground: var(--success-foreground);
  --color-success-border: var(--success-border);

  --color-warning: var(--warning);
  --color-warning-foreground: var(--warning-foreground);
  --color-warning-border: var(--warning-border);

  --color-info: var(--info);
  --color-info-foreground: var(--info-foreground);
  --color-info-border: var(--info-border);

  --color-accent-foreground: var(--accent-foreground);
  --color-accent: var(--accent);
  --color-muted-foreground: var(--muted-foreground);
  --color-muted: var(--muted);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-secondary: var(--secondary);
  --color-primary-foreground: var(--primary-foreground);
  --color-primary: var(--primary);
  --color-link: var(--link);
  --color-link-hover: var(--link-hover);
  --color-popover-foreground: var(--popover-foreground);
  --color-popover: var(--popover);
  --color-card-foreground: var(--card-foreground);
  --color-card: var(--card);
  /* Overlay / scrim */
  --color-overlay: var(--overlay-bg);
  --backdrop-blur-overlay: var(--overlay-blur);
  /* Glass surface */
  --color-glass: var(--glass-bg);
  --color-glass-border: var(--glass-border);
  --backdrop-blur-glass: var(--glass-blur);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --radius-2xl: calc(var(--radius) + 8px);
  --radius-3xl: calc(var(--radius) + 12px);
  --radius-4xl: calc(var(--radius) + 16px);
}

:root {
  --radius: 0.5rem;

  /* ===================== */
  /* PRIMITIVES — ELEVATION */
  /* Y-axis based naming */
  /* ===================== */
  --shadow-y1:
    0 1px 1px oklch(0.55 0.02 286.45 / 0.08);

  --shadow-y2:
    0 2px 6px oklch(0.50 0.03 286.45 / 0.10);

  --shadow-y6:
    0 6px 16px oklch(0.45 0.04 286.45 / 0.14);

  --shadow-y16:
    0 16px 32px oklch(0.40 0.05 286.45 / 0.18);

  /* ===================== */
  /* SEMANTIC — ELEVATION */
  /* ===================== */
  --elevation-surface: var(--shadow-y1);
  --elevation-floating: var(--shadow-y2);
  --elevation-overlay: var(--shadow-y6);
  --elevation-popover: var(--shadow-y16);

  /* ===================== */
  /* SEMANTIC — OVERLAY / SCRIM */
  /* ===================== */
  --overlay-bg: color-mix(in oklch, var(--background) 60%, transparent);
  --overlay-blur: 4px;

  /* ===================== */
  /* SEMANTIC — GLASS SURFACE */
  /* ===================== */
  --glass-bg: color-mix(in oklch, var(--background) 25%, transparent);
  --glass-blur: 8px;
  --glass-border: color-mix(in oklch, white 40%, transparent);

  /* ===================== */
  /* PRIMITIVES — GRAY */
  /* Lightness-based scale */
  /* ===================== */
  --gray-99: oklch(0.99 0.01 286.45);
  --gray-98: oklch(0.9824 0.0013 288);
  --gray-96: oklch(0.97 0.01 286.45);
  --gray-94: oklch(0.94 0.01 286.45);
  --gray-91: oklch(0.91 0.01 286.45);
  --gray-89: oklch(0.89 0.01 286.45);
  --gray-86: oklch(0.86 0.01 286.45);
  --gray-63: oklch(0.63 0.01 286.45);
  --gray-50: oklch(0.50 0.01 286.45);
  --gray-38: oklch(0.38 0.01 286.45);
  --gray-25: oklch(0.25 0.01 286.45);
  --gray-12: oklch(0.12 0.01 286.45);

  /* ===================== */
  /* PRIMITIVES — VIOLET */
  /* Lightness-based scale */
  /* ===================== */
  --violet-99: oklch(0.9867 0.012 286.45);
  --violet-95: oklch(0.9518 0.039 286.45);
  --violet-88: oklch(0.8843 0.082 286.45);
  --violet-78: oklch(0.7868 0.144 286.45);
  --violet-68: oklch(0.6843 0.198 286.45);
  --violet-64: oklch(0.6418 0.239 286.45);
  --violet-59: oklch(0.5918 0.235 286.45);
  --violet-47: oklch(0.4693 0.188 286.45);
  --violet-38: oklch(0.3868 0.157 286.45);
  --violet-31: oklch(0.3093 0.126 286.45);
  --violet-24: oklch(0.2418 0.100 286.45);
  --background: var(--gray-98);
  --foreground: var(--gray-12);

  --card: oklch(1 0 0);
  --card-foreground: var(--gray-12);

  --popover: oklch(1 0 0);
  --popover-foreground: var(--gray-25);

  --primary: var(--violet-64);
  --primary-foreground: var(--violet-95);

  --secondary: var(--gray-98);
  --secondary-foreground: var(--gray-25);

  --muted: var(--gray-91);
  --muted-foreground: var(--gray-50);

  --accent: var(--violet-95);
  --accent-foreground: var(--violet-38);

  /* Link */
  --link: var(--primary);
  --link-hover: var(--primary);

  /* Tokenized halo ring (selected state only) */
  --accent-halo: 0 0 0 2px color-mix(in oklch, var(--primary) 40%, transparent);

  /* Borders */
  --border: var(--gray-86);
  --border-subtle: var(--gray-94);
  --border-primary: var(--primary);
  --border-primary-subtle: color-mix(in oklch, var(--primary) 40%, transparent);
  --input: var(--gray-89);
  --ring: var(--violet-64);

  /* Charts — violet progression */
  --chart-1: var(--violet-78);
  --chart-2: var(--violet-68);
  --chart-3: var(--violet-64);
  --chart-4: var(--violet-59);
  --chart-5: var(--violet-47);

  /* Sidebar */
  --sidebar: var(--gray-94);
  --sidebar-foreground: var(--gray-12);

  --sidebar-primary: var(--primary);
  --sidebar-primary-foreground: var(--primary-foreground);

  --sidebar-accent: var(--accent);
  --sidebar-accent-foreground: var(--accent-foreground);

  --sidebar-border: var(--border);
  --sidebar-ring: var(--ring);

  /* ===================== */
  /* SEMANTIC — SUCCESS (Emerald) */
  /* bg=50, border=200, content=600 */
  /* ===================== */
  --success: oklch(0.95 0.03 155);      /* emerald-50 */
  --success-border: oklch(0.88 0.06 155); /* emerald-200 */
  --success-foreground: oklch(0.53 0.18 155); /* emerald-600 */

  /* ===================== */
  /* SEMANTIC — WARNING (Amber) */
  /* bg=50, border=200, content=600 */
  /* ===================== */
  --warning: oklch(0.97 0.03 85);        /* amber-50 */
  --warning-border: oklch(0.89 0.08 85); /* amber-200 */
  --warning-foreground: oklch(0.62 0.16 85); /* amber-600 */

  /* ===================== */
  /* SEMANTIC — INFO (Cyan) */
  /* bg=50, border=200, content=600 */
  /* ===================== */
  --info: oklch(0.96 0.03 210);          /* cyan-50 */
  --info-border: oklch(0.89 0.06 210);   /* cyan-200 */
  --info-foreground: oklch(0.55 0.16 210); /* cyan-600 */

  /* ===================== */
  /* SEMANTIC — DESTRUCTIVE (Rose) */
  /* bg=50, border=200, content=600 */
  /* ===================== */
  --destructive: oklch(0.96 0.03 10);        /* rose-50 */
  --destructive-border: oklch(0.89 0.06 10); /* rose-200 */
  --destructive-foreground: oklch(0.55 0.22 10); /* rose-600 */
  --destructive-solid: oklch(0.55 0.22 10); /* rose-600 */
  --destructive-solid-foreground: oklch(0.96 0.03 10); /* rose-50 */
}

.dark {
  /* ===================== */
  /* PRIMITIVES — ELEVATION (Dark) */
  /* ===================== */
  --shadow-y1:
    0 0 0 1px oklch(0.32 0.02 286.45 / 0.4),
    0 1px 2px oklch(0.15 0.02 286.45 / 0.6);

  --shadow-y2:
    0 0 0 1px oklch(0.38 0.03 286.45 / 0.5),
    0 4px 12px oklch(0.15 0.02 286.45 / 0.7);

  --shadow-y6:
    0 0 0 1px oklch(0.42 0.04 286.45 / 0.6),
    0 8px 24px oklch(0.10 0.02 286.45 / 0.75);

  --shadow-y16:
    0 0 0 1px oklch(0.48 0.05 286.45 / 0.7),
    0 24px 48px oklch(0.08 0.02 286.45 / 0.8);

  /* ===================== */
  /* SEMANTIC — ELEVATION */
  /* ===================== */
  --elevation-surface: var(--shadow-y1);
  --elevation-floating: var(--shadow-y2);
  --elevation-overlay: var(--shadow-y6);
  --elevation-popover: var(--shadow-y16);

  /* ===================== */
  /* SEMANTIC — GLASS SURFACE (dark overrides) */
  /* ===================== */
  --glass-bg: color-mix(in oklch, var(--background) 20%, transparent);
  --glass-border: color-mix(in oklch, white 20%, transparent);

  /* Core surfaces */
  --background: var(--gray-12);
  --foreground: var(--gray-96);

  /* Card slightly elevated from background */
  --card: var(--gray-25);
  --card-foreground: var(--gray-96);

  --popover: var(--gray-25);
  --popover-foreground: var(--gray-96);

  /* Primary = previous accent tone (calmer) */
  --primary: var(--violet-38);
  --primary-foreground: var(--violet-95);

  /* Accent = darker interaction violet */
  --accent: var(--violet-24);
  --accent-foreground: var(--violet-95);

  /* Link — brighter for dark mode */
  --link: var(--violet-78);
  --link-hover: var(--violet-68);

  /* Background + Secondary match */
  --secondary: var(--background);
  --secondary-foreground: var(--gray-96);

  /* Muted clearly distinct from surfaces */
  --muted: var(--gray-38);
  --muted-foreground: var(--gray-63);

  /* SUCCESS — Emerald */
  --success: oklch(0.20 0.05 155);
  --success-border: oklch(0.32 0.10 155);
  --success-foreground: oklch(0.75 0.20 155);

  /* WARNING — Amber */
  --warning: oklch(0.20 0.05 85);
  --warning-border: oklch(0.32 0.10 85);
  --warning-foreground: oklch(0.78 0.18 85);

  /* INFO — Cyan */
  --info: oklch(0.20 0.05 210);
  --info-border: oklch(0.32 0.10 210);
  --info-foreground: oklch(0.78 0.18 210);

  --destructive: oklch(0.20 0.09 10);
  --destructive-border: oklch(0.38 0.16 10);
  --destructive-foreground: oklch(0.90 0.20 10);

  /* Solid destructive button — mapped to #FB7185 (rose-400) */
  --destructive-solid: oklch(0.72 0.19 17);
  --destructive-solid-foreground: oklch(0.98 0.01 10);

  /* Structural */
  /* Subtle must always be lighter than structural border */
  --border: var(--gray-38);
  --border-subtle: var(--gray-50);
  --border-primary: var(--primary);
  --border-primary-subtle: color-mix(in oklch, var(--primary) 40%, transparent);

  /* Input slightly darker than border */
  --input: var(--gray-38);

  --ring: var(--primary);

  /* Charts — same violet progression */
  --chart-1: var(--violet-78);
  --chart-2: var(--violet-68);
  --chart-3: var(--violet-64);
  --chart-4: var(--violet-59);
  --chart-5: var(--violet-47);

  /* Sidebar */
  --sidebar: var(--gray-25);
  --sidebar-foreground: var(--gray-96);

  --sidebar-primary: var(--primary);
  --sidebar-primary-foreground: var(--primary-foreground);

  --sidebar-accent: var(--accent);
  --sidebar-accent-foreground: var(--accent-foreground);

  --sidebar-border: var(--border);
  --sidebar-ring: var(--ring);
}

@layer utilities {
  /* Headings */
  .h1 { @apply text-2xl font-[650]; }
  .h2 { @apply text-base font-[650]; }
  .h3 { @apply text-sm font-[650]; }
  .h4 { @apply text-xs font-[650]; }

  /* p */

  .p-lg { @apply text-base font-[425]; }
  .p { @apply text-sm font-[425]; }
  .p-sm { @apply text-xs font-[425]; }

  /* Label / UI */
  .label-lg { @apply text-base font-[525]; }
  .label-md { @apply text-sm font-[525]; }
  .label-sm { @apply text-xs font-[525]; }

  /* Form typography (semantic) */
  .form-label { @apply text-sm font-[425] text-muted-foreground; }
  .form-control { @apply text-sm font-[425] text-foreground; }
  .form-data { @apply text-sm font-[525] text-foreground; }

  /* Data */
  .data-lg { @apply text-3xl font-[650] leading-tight tabular-nums; }
  .data-md { @apply text-xl font-[650] leading-tight tabular-nums; }
  .data-sm { @apply text-base font-[650] leading-tight tabular-nums; }
}

@layer components {
  /* Card size-aware typography */

  [data-slot="card"][data-size="sm"] [data-slot="card-title"] {
    @apply text-sm font-[525];
  }

  [data-slot="card"][data-size="sm"] [data-slot="card-description"] {
    @apply text-xs font-[425];
  }
}

@layer base {
  body {
    @apply bg-background text-foreground;
    font-family: var(--font-sans);
    font-optical-sizing: auto;
    font-weight: 425;
    font-feature-settings:
      "ss01" 1,
      "ss02" 1,
      "calt" 1,
      "tnum" 1,
      "case" 1;
  }
}